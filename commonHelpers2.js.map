{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst timeSelector = document.querySelector('input[id=\"datetime-picker\"]');\nconst startButton = document.querySelector('button[data-start]');\nconst daysCounter = document.querySelector('span[data-days]');\nconst hoursCounter = document.querySelector('span[data-hours]');\nconst minutesCounter = document.querySelector('span[data-minutes]');\nconst secondsCounter = document.querySelector('span[data-seconds]');\n\nlet selecteddDate;\nlet diff;\nlet timeIntervalID;\nlet currentDate = new Date();\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    selecteddDate = selectdDate.selectedDates[0];\n    if (currentDate.getTime() > selecteddDate.getTime()) {\n      //instance.close;\n      alert('Please choose a date in the future');\n    }\n  },\n};\n\nconst selectdDate = flatpickr(timeSelector, options);\n\n\ntimeSelector.addEventListener('change', selectDateHandler);\nfunction selectDateHandler() {\n  console.log(selectdDate.selectedDates[0], 'date in handler');\n\n  //   selectdDate.onClose(selecteddDate, () => {\n\n  //   })\n}\n\nstartButton.addEventListener('click', startTimeCountHandler);\n\nfunction startTimeCountHandler() {\n  timeIntervalID = setInterval(() => {\n    currentDate = new Date();\n    daysCounter.textContent = convertMs(\n      selecteddDate.getTime() - currentDate.getTime()\n    ).days;\n    hoursCounter.textContent = convertMs(\n      selecteddDate.getTime() - currentDate.getTime()\n    ).hours;\n    minutesCounter.textContent = convertMs(\n      selecteddDate.getTime() - currentDate.getTime()\n    ).minutes;\n    secondsCounter.textContent = convertMs(\n      selecteddDate.getTime() - currentDate.getTime()\n    ).seconds;\n    diff = selecteddDate.getTime() - currentDate.getTime();\n    if (diff <= 0) {\n      clearInterval(timeIntervalID);\n    }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["timeSelector","startButton","daysCounter","hoursCounter","minutesCounter","secondsCounter","selecteddDate","diff","timeIntervalID","currentDate","options","selectedDates","selectdDate","flatpickr","selectDateHandler","startTimeCountHandler","convertMs","ms","days","hours","minutes","seconds"],"mappings":"wIAGA,MAAMA,EAAe,SAAS,cAAc,6BAA6B,EACnEC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAiB,SAAS,cAAc,oBAAoB,EAC5DC,EAAiB,SAAS,cAAc,oBAAoB,EAElE,IAAIC,EACAC,EACAC,EACAC,EAAc,IAAI,KACtB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,EAAE,EAC5BL,EAAgBM,EAAY,cAAc,GACtCH,EAAY,QAAO,EAAKH,EAAc,QAAO,GAE/C,MAAM,oCAAoC,CAE7C,CACH,EAEMM,EAAcC,EAAUb,EAAcU,CAAO,EAGnDV,EAAa,iBAAiB,SAAUc,CAAiB,EACzD,SAASA,GAAoB,CAC3B,QAAQ,IAAIF,EAAY,cAAc,GAAI,iBAAiB,CAK7D,CAEAX,EAAY,iBAAiB,QAASc,CAAqB,EAE3D,SAASA,GAAwB,CAC/BP,EAAiB,YAAY,IAAM,CACjCC,EAAc,IAAI,KAClBP,EAAY,YAAcc,EACxBV,EAAc,QAAO,EAAKG,EAAY,QAAS,CAChD,EAAC,KACFN,EAAa,YAAca,EACzBV,EAAc,QAAO,EAAKG,EAAY,QAAS,CAChD,EAAC,MACFL,EAAe,YAAcY,EAC3BV,EAAc,QAAO,EAAKG,EAAY,QAAS,CAChD,EAAC,QACFJ,EAAe,YAAcW,EAC3BV,EAAc,QAAO,EAAKG,EAAY,QAAS,CAChD,EAAC,QACFF,EAAOD,EAAc,QAAS,EAAGG,EAAY,QAAO,EAChDF,GAAQ,GACV,cAAcC,CAAc,CAE/B,EAAE,GAAI,CACT,CAEA,SAASQ,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}